!function(t){t.fn.scrollTo=function(i){return t(this).scrollTop(t(this).scrollTop()-t(this).offset().top+t(i).offset().top),this},t.fn.dropdown=function(i){var n={inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!1,alignment:"left"};this.each(function(){function o(){void 0!==r.data("induration")&&(s.inDuration=r.data("inDuration")),void 0!==r.data("outduration")&&(s.outDuration=r.data("outDuration")),void 0!==r.data("constrainwidth")&&(s.constrain_width=r.data("constrainwidth")),void 0!==r.data("hover")&&(s.hover=r.data("hover")),void 0!==r.data("gutter")&&(s.gutter=r.data("gutter")),void 0!==r.data("beloworigin")&&(s.belowOrigin=r.data("beloworigin")),void 0!==r.data("alignment")&&(s.alignment=r.data("alignment"))}function e(i){"focus"===i&&(d=!0),o(),u.addClass("active"),r.addClass("active"),s.constrain_width===!0?u.css("width",r.outerWidth()):u.css("white-space","nowrap");var n,e=window.innerHeight,a=r.innerHeight(),c=r.offset().left,l=r.offset().top-t(window).scrollTop(),h=s.alignment,f=0;if(s.belowOrigin===!0&&(f=a),c+u.innerWidth()>t(window).width()?h="right":c-u.innerWidth()+r.innerWidth()<0&&(h="left"),l+u.innerHeight()>e)if(l+a-u.innerHeight()<0){var g=e-l-f;u.css("max-height",g)}else f||(f+=a),f-=u.innerHeight();if("left"===h)n=s.gutter,leftPosition=r.position().left+n;else if("right"===h){var v=r.position().left+r.outerWidth()-u.outerWidth();n=-s.gutter,leftPosition=v+n}u.css({position:"absolute",top:r.position().top+f,left:leftPosition}),u.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:s.inDuration,easing:"easeOutCubic",complete:function(){t(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:s.inDuration,easing:"easeOutSine"})}function a(){d=!1,u.fadeOut(s.outDuration),u.removeClass("active"),r.removeClass("active"),setTimeout(function(){u.css("max-height","")},s.outDuration)}var r=t(this),s=t.extend({},n,i),d=!1,u=t("#"+r.attr("data-activates"));if(o(),r.after(u),s.hover){var c=!1;r.unbind("click."+r.attr("id")),r.on("mouseenter",function(t){c===!1&&(e(),c=!0)}),r.on("mouseleave",function(i){var n=i.toElement||i.relatedTarget;t(n).closest(".dropdown-content").is(u)||(u.stop(!0,!0),a(),c=!1)}),u.on("mouseleave",function(i){var n=i.toElement||i.relatedTarget;t(n).closest(".dropdown-button").is(r)||(u.stop(!0,!0),a(),c=!1)})}else r.unbind("click."+r.attr("id")),r.bind("click."+r.attr("id"),function(i){d||(r[0]!=i.currentTarget||r.hasClass("active")||0!==t(i.target).closest(".dropdown-content").length?r.hasClass("active")&&(a(),t(document).unbind("click."+u.attr("id")+" touchstart."+u.attr("id"))):(i.preventDefault(),e("click")),u.hasClass("active")&&t(document).bind("click."+u.attr("id")+" touchstart."+u.attr("id"),function(i){u.is(i.target)||r.is(i.target)||r.find(i.target).length||(a(),t(document).unbind("click."+u.attr("id")+" touchstart."+u.attr("id")))}))});r.on("open",function(t,i){e(i)}),r.on("close",a)})},t(document).ready(function(){t(".dropdown-button").dropdown()})}(jQuery);